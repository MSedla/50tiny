<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>To už je to tu zas?</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .question, .hint {
      display: none;
      margin-top: 20px;
    }
    .hint {
      color: green;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Tady se budou v průěhu dne objevovat nějaký hinty</h1>
  <div id="quiz-container"></div>

  <script>
    const quizData = [
      {
        time: "00:47",
        question: "Kdo je nejlepší vnouče?",
        answers: ["Marek", "Dan", "Lucka", "Zuza"],
        correct: "Marek",
        hint: "Hint 1: Petr Kožíšek"
      },
      {
        time: "01:00",
        question: "Kolik letos slavím?",
        answers: ["25", "47", "46", "50"],
        correct: "50",
        hint: "Hint 2: <img src='img/hint2.jpg' alt='Hint 2' width='300'>"
      },
      {
        time: "01:01",
        question: "Jak se Hynek jmenuje opravdovým jménem?",
        answers: ["Nikdo neví", "Tomáš Garrigue Masaryk", "Brad Pitt", "Jarda Lhota"],
        correct: "Nikdo neví",
        hint: "Hint 3: 7275"
      },
      {
        time: "01:02",
        question: "Jak často sekám trávu?",
        answers: ["2x týdně", "10x měsíčně", "On je někdy čas kdy nesekám?", "5x týdně"],
        correct: "On je někdy čas kdy nesekám?",
        hint: "Hint 4: <img src='img/hint3.jpg' alt='Hint 4' width='300'>"
      },
      {
        time: "01:03",
        question: "Kde nejradši spí kocouři?",
        answers: ["Na gaučíčku", "Na polštářích", "Nesnášejí spaní", "Na posteli"],
        correct: "Nesnášejí spaní",
        hint: "Hint 5: = 12.884615384615..."
      },
      {
        time: "01:04",
        question: "Závidím Markovi jeho kšiltovku?",
        answers: ["ANO", "NE"],
        correct: "ANO",
        hint: "Hint 6: ↑ 335/26"
      },
      {
        time: "01:05",
        question: "Už víš kam?",
        answers: ["ANO", "NE"],
        correct: "ANO",
        hint: "Hint 7: Well well well dobře ty na tvůj věk :)",
        wrongHint: "Dish Belgická 335/26"
      }
    ];

    const container = document.getElementById("quiz-container");

    function checkTimeAndShowQuestions() {
      const now = new Date();
      const currentHour = now.getHours();
      const currentMinutes = now.getMinutes();

      quizData.forEach((item, index) => {
        const [h, m] = item.time.split(":").map(Number);
        if (currentHour > h || (currentHour === h && currentMinutes >= m)) {
          let el = document.getElementById("q" + index);
          if (!el) {
            // vytvořit otázku
            el = document.createElement("div");
            el.id = "q" + index;
            el.className = "question";
            el.innerHTML = `<p>${item.question}</p>` +
              item.answers.map(ans => `
                <label><input type="radio" name="q${index}" value="${ans}"> ${ans}</label><br>
              `).join("") +
              `<button onclick="submitAnswer(${index})">Odeslat</button>
              <div id="hint${index}" class="hint"></div>`;
            container.appendChild(el);
            el.style.display = "block";
          }
        }
      });
    }

    function submitAnswer(index) {
      const question = quizData[index];
      const options = document.getElementsByName("q" + index);
      let selected = null;
      options.forEach(opt => {
        if (opt.checked) selected = opt.value;
      });

      const hintBox = document.getElementById("hint" + index);

      if (!selected) {
        hintBox.innerHTML = "<span style='color: orange;'>Vyber odpověď!</span>";
        return;
      }

      if (selected === question.correct) {
        hintBox.innerHTML = question.hint;
        options.forEach(opt => opt.disabled = true);
      } else {
        hintBox.innerHTML = question.wrongHint || "<span style='color: red;'>Špatně :( Zkus to znovu.</span>";
      }
    }

    checkTimeAndShowQuestions();
    setInterval(checkTimeAndShowQuestions, 60000);
  </script>
</body>
</html>
